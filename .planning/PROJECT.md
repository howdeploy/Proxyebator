# Proxyebator

## What This Is

Bash-скрипт для развёртывания на личном VPS инфраструктуры маскированных прокси-туннелей (Chisel / wstunnel) поверх WebSocket, спрятанных за обычными HTTPS-сайтами или просто TLS-трафиком. Один скрипт работает в двух режимах — server и client. Рассчитан на использование как людьми напрямую, так и AI-ассистентами (Claude, ChatGPT) по готовой инструкции из README.

## Core Value

Человек или AI-агент запускает один скрипт, отвечает на вопросы — и получает работающий замаскированный туннель с SOCKS5 на localhost, готовый к подключению через GUI-клиент (Proxifier, nekoray, Throne).

## Requirements

### Validated

(None yet — ship to validate)

### Active

- [ ] Единый bash-скрипт `proxyebator.sh` с режимами `server` и `client`
- [ ] Выбор туннеля: Chisel или wstunnel (скрипт спрашивает при установке)
- [ ] Автоматическая установка выбранного туннеля из GitHub releases
- [ ] Маскировка трафика — два варианта на выбор:
  - Реверс-прокси (nginx + certbot): реальный сайт на `/`, туннель на скрытом WS-пути
  - Только HTTPS: TLS-обёртка без сайта-обманки
- [ ] Сайт-обманка на выбор юзера: встроенная заглушка, проксирование внешнего URL, или свой путь к статике
- [ ] Автоматическое получение TLS-сертификатов через Let's Encrypt (certbot)
- [ ] Двойная аутентификация: секретный WS-путь (рандомный) + пароль/токен
- [ ] Серверная часть: установка зависимостей, настройка nginx/TLS, запуск туннеля как systemd-сервиса
- [ ] Клиентская часть: скачивание бинарника, подключение к серверу, поднятие SOCKS5 на localhost
- [ ] Детекция ОС (Debian/Ubuntu/CentOS/Fedora/Arch) и автоподбор пакетного менеджера
- [ ] Вывод параметров подключения после установки (хост, порт, путь, пароль, SOCKS5 адрес)
- [ ] README на русском языке в стиле awesome-howdeploy-claude-code:
  - Центрированный заголовок с shields.io бейджами (лицензия, стек, статус)
  - Таблицы с параметрами и переменными
  - `<details>` разворачиваемые блоки для разделов
  - Инструкции для GUI-клиентов: Proxifier (Windows/macOS), nekoray (Windows), Throne (Linux) — какие настройки прописать, какие галочки включить
  - Блок «Скопируй это и отправь AI-ассистенту» с готовой пошаговой инструкцией
- [ ] Обработка ошибок, проверка зависимостей, информативные сообщения
- [ ] Возможность деинсталляции (`proxyebator.sh uninstall`)

### Out of Scope

- Docker/docker-compose — прямая установка на хост через apt/yum/pacman
- Мобильные клиенты (Android/iOS) — только десктоп (Linux, Windows, macOS)
- Веб-интерфейс управления — только CLI
- HTTP CONNECT прокси — только SOCKS5
- Скриншоты в README — только текст и разметка

## Context

- Chisel — однобинарный Go-инструмент, WebSocket-туннель с встроенным SOCKS5, аутентификация через `--auth user:pass`
- wstunnel — Rust-инструмент, WebSocket/HTTP2 туннели, поддержка UDP, более гибкая маршрутизация
- Оба прячут трафик внутри WebSocket, который для DPI выглядит как обычный HTTPS
- nginx реверс-прокси: на `/` отдаёт сайт, на `/секретный-путь` проксирует WebSocket к туннелю
- Целевая аудитория: технически подкованные пользователи и AI-агенты, которым нужен обход ограничений
- Референс стиля README: howdeploy/awesome-howdeploy-claude-code (бейджи, таблицы, details) и howdeploy/claude-chan-dash (блок для AI-агента)
- GUI-клиенты для SOCKS5: Throne (Linux), Proxifier (Windows/macOS), nekoray (Windows/Linux)
- Схема: туннель поднимает SOCKS5 на localhost → GUI-клиент оборачивает весь системный трафик через него

## Constraints

- **Язык**: Bash (POSIX-совместимый где возможно, bashisms только где необходимо)
- **Серверные ОС**: Любой Linux VPS (Debian, Ubuntu, CentOS, Fedora, Arch — с автодетекцией)
- **Клиентские ОС**: Linux, macOS, Windows (WSL или нативный клиент)
- **Зависимости**: минимум — curl/wget, openssl; остальное ставит скрипт
- **README**: полностью на русском языке

## Key Decisions

| Decision | Rationale | Outcome |
|----------|-----------|---------|
| Bash вместо Python/Go | Максимальная портабельность, работает на любом VPS из коробки | — Pending |
| Chisel + wstunnel на выбор | У каждого свои плюсы: Chisel проще, wstunnel гибче (UDP, HTTP2) | — Pending |
| nginx + certbot для маскировки | Самый распространённый стек, документация везде, certbot автоматизирует TLS | — Pending |
| SOCKS5 без HTTP CONNECT | SOCKS5 поддерживается всеми GUI-клиентами, HTTP proxy — лишняя сложность | — Pending |
| Секретный путь + пароль | Двойная защита: даже найдя эндпоинт, без пароля не подключиться | — Pending |

---
*Last updated: 2026-02-18 after initialization*
