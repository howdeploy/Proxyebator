# Phase 1: Script Foundation - Context

**Gathered:** 2026-02-18
**Status:** Ready for planning

<domain>
## Phase Boundary

Bash-скелет скрипта `proxyebator.sh`: mode dispatcher (server/client/uninstall), детекция ОС и архитектуры, цветной вывод, генерация секретных путей и токенов. Никакой реальной установки — только фундамент для последующих фаз.

</domain>

<decisions>
## Implementation Decisions

### Интерактивный ввод
- Основной режим — интерактивный: скрипт задаёт вопросы по одному (домен, туннель, маскировка и т.д.)
- Non-interactive режим поддерживается: если все параметры переданы через CLI-флаги — ничего не спрашивать
- Язык вывода — английский по умолчанию. README на русском отдельно
- Промпты, сообщения об ошибках, логи — всё на EN для универсальности и совместимости с AI-агентами

### Генерация секретов
- Секретный WS-путь: рандомный hex, 32 символа (например `/a3f7b2c1d4e5f6...`)
- Токен аутентификации: 32 символа, base64-safe
- Кастомные секреты не поддерживаются — только автогенерация (защита от слабых паролей)
- Генерация через `openssl rand -hex 16` (путь) и `openssl rand -base64 24` (токен)

### Claude's Discretion
- Точная структура help/usage вывода
- Порядок вопросов при интерактивном вводе
- Набор CLI-флагов для non-interactive режима
- Цветовая схема (конкретные ANSI-коды)

</decisions>

<specifics>
## Specific Ideas

- Скрипт рассчитан на использование как людьми напрямую, так и AI-агентами — значит интерактивный ввод должен быть предсказуемым (конкретные промпты, чёткие варианты ответов)
- Non-interactive режим критичен для AI-агентов: они смогут передать все параметры флагами и скрипт выполнит всё без вопросов

</specifics>

<deferred>
## Deferred Ideas

None — discussion stayed within phase scope

</deferred>

---

*Phase: 01-script-foundation*
*Context gathered: 2026-02-18*
